<div class="bd-main">
    <div class="bd-toc mt-4 mb-5 my-md-0 ps-xl-3 mb-lg-5 text-muted">
        <strong class="d-block h6 my-2 pb-2 border-bottom">On this page</strong>
        <nav class="table-of-contents">
            <ul>
                <li>
                    <a [routerLink]="['.']" fragment="platform"
                        [ngClass]="{'active': current === 'platform' }">Introduction</a>
                </li>
                <li>
                    <a [routerLink]="['.']" fragment="rest-api" [ngClass]="{'active': current === 'rest-api' }">REST
                        API</a>
                    <ul>
                        <li>
                            <a [routerLink]="['.']" fragment="authentication"
                                [ngClass]="{'active': current === 'authentication' }">Authentication</a>
                        </li>
                        <li>
                            <a [routerLink]="['.']" fragment="provisioning"
                                [ngClass]="{'active': current === 'provisioning' }">Provisioning</a>
                        </li>
                        <li>
                            <a [routerLink]="['.']" fragment="medias"
                                [ngClass]="{'active': current === 'medias' }">Medias</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a [routerLink]="['.']" fragment="webhooks"
                        [ngClass]="{'active': current === 'webhooks' }">WebHooks</a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="bd-content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-10 fs-5">
                    <a #anchor id="platform" class="anchor"></a>
                    <p class="text-center">
                        Learn how to interact with <strong>ApiRTC Platform</strong>.
                    </p>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-10 fs-6">
                    <p><strong>ApiRTC</strong> platform is compound of software layers to enables communication between
                        people through client applications.
                    </p>
                    <p><strong>ApiRTC</strong>&nbsp;<strong>REST API</strong> and <strong>WebHooks</strong> enable
                        interaction between your backend and <strong>ApiRTC</strong> backend.
                    </p>
                </div>
            </div>

            <h1 class="mt-5">
                <a #anchor id="rest-api" class="anchor"></a>
                REST API
            </h1>
            <p>The main usage of the <strong>REST API</strong> is <strong>provisioning</strong> of
                <strong>Enterprises</strong> and <strong>Users</strong>.
                But the <strong>REST API</strong> also allows to retrieve communication data, such as recorded videos.
            </p>

            <h2 class="mt-5">
                <a #anchor id="authentication" class="anchor"></a>
                Authentication
            </h2>
            <p><strong>ApiRTC</strong>&nbsp;<strong>REST API</strong> supports HTTP Bearer authentication.
                In order to authenticate, you must get a token by issuing a POST /token, providing username and
                password of your <strong>ApiRTC</strong> account.</p>

            <h2 class="mt-5">
                <a #anchor id="provisioning" class="anchor"></a>
                Provisioning
            </h2>
            <h3>Enterprises</h3>
            <p>The concept of <strong>Enterprise</strong> in <strong>ApiRTC</strong> simplifies configuration,
                reporting, and billing of different projects.</p>
            <p>When you create your <strong>ApiRTC account</strong>, you get an <strong>Enterprise</strong> and an admin
                <strong>User</strong>. You can then create sub-accounts as sub-<strong>Enterprise</strong> with
                associated admin <strong>User</strong>.
            </p>
            <h3>Users</h3>
            <p>You can use CRUD operations on <strong>Users</strong>.</p>
            <h2 id="medias" class="mt-5">
                <a #anchor id="medias" class="anchor"></a>
                Medias management
            </h2>
            <p>
                Retrieve or delete medias exchanged or recorded during <strong>conversation</strong>s.
            </p>
            <h1 id="webhooks" class="mt-5">
                <a #anchor id="webhooks" class="anchor"></a>
                WebHooks
            </h1>
            <p>To get notified of some communication or platform events, <strong>ApiRTC</strong> can trigger
                <strong>WebHooks</strong> to your backend server.
            </p>
            <p>
                <strong>WebHooks</strong> are triggered asynchronously.
            </p>
            <p>To handle <strong>WebHooks</strong>, your backend needs to accept HTTP requests. When some event
                occurs, <strong>ApiRTC</strong> makes a POST HTTP request to the
                URL you have configured for your <strong>WebHooks</strong>.
            </p>
            <p>The request includes details of the event.
                Your backend can then perform whatever logic is necessary.</p>

            <div class="alert alert-info d-flex align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Info:">
                    <use xlink:href="#info-fill"></use>
                </svg>
                <div>
                    Set your server URL from your <a class="text-nowrap" href="https://cloud.apirtc.com/enterprise/edit"
                        target="_blank" rel="noopener">Company account&nbsp;<span
                            class="material-icons align-middle fs-6">open_in_new</span></a> -> Settings ->
                    <strong>WebHooks</strong>. (and don't forget to check
                    the <strong>Activate</strong> button)
                </div>
            </div>

            <p>Example of a <strong>webhook</strong> payload corresponding to a <code>conversationEnded</code> event:
            </p>
            <pre><code [highlight]="conversationEnded" [languages]="['json']"></code></pre>

            <div class="alert alert-warning d-flex align-items-center" role="alert">
                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:">
                    <use xlink:href="#exclamation-triangle-fill"></use>
                </svg>
                <div>
                    Not all events you may require are available to all accounts, but you can ask us for events to
                    suit your needs !</div>
            </div>

            <!-- TODO
            <p>
                Events list
            </p> -->
        </div>
    </div>
</div>